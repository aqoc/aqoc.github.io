<input type="text" placeholder="Search here for different articles" id="searchbar"/>
<ul id="results"></ul>
<script>
    document.getElementById("searchbar").addEventListener('keydown', (event) => {
        const entries = {
            {% for page in site.pages %}
                {% if page.dir == '/faq/' %}
            "{{page.title}}": [{% for tag in page.tags %} "{{tag}}", {% endfor %}],
                {% endif %}
            {% endfor %}
        };
        let query = event.target.value;
        console.log(`Query: ${query}`);
        let results = document.getElementById("results");
        for (const entry in entries) {
            const tags = entries[entry];
            console.log(tags);
            tags.forEach(tag => {
                console.log(`Tag ${tag}`);
                if (query == tag) {
                    console.log(query, entry);
                    results.innerHTML += `<li>${entry}</li>\n`;
                }
            });
        }
    });
</script>